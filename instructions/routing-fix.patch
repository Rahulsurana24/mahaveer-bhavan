From b09add5d09b7e2db977b5b604a9b7e671179c889 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 06:51:57 +0000
Subject: [PATCH 01/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 1 -
 1 file changed, 1 deletion(-)

diff --git a/src/App.tsx b/src/App.tsx
index b303622..838668d 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -6,7 +6,6 @@ import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import { BrowserRouter, Routes, Route } from "react-router-dom";
 import { AuthProvider } from "@/contexts/AuthContext";
 import { ProtectedRoute } from "@/components/auth/ProtectedRoute";
-import Index from "./pages/Index";
 import Dashboard from "./pages/Dashboard";
 import NotFound from "./pages/NotFound";
 import Auth from "./pages/auth/Auth";
-- 
2.47.3


From 494f4e1a7671316ad99ca4dfbaaf49ed166916ca Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 08:27:02 +0000
Subject: [PATCH 02/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/src/App.tsx b/src/App.tsx
index 838668d..8838e74 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -30,6 +30,7 @@ import Trips from "./pages/Trips";
 import TripDetails from "./pages/TripDetails";
 import TripManagement from "./pages/admin/TripManagement";
 import ChangePassword from "./pages/ChangePassword";
+import DiagnosticPage from "./pages/DiagnosticPage";
 
 const queryClient = new QueryClient();
 
@@ -114,6 +115,9 @@ const App = () => (
               </ProtectedRoute>
             } />
             
+            {/* Diagnostic Route */}
+            <Route path="/diagnostic" element={<DiagnosticPage />} />
+            
             {/* Protected Admin Routes */}
             <Route path="/admin" element={
               <ProtectedRoute requireAdmin>
-- 
2.47.3


From 7d21bff0f9ee27d2c43db8309262eecb17243f68 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 11:41:04 +0000
Subject: [PATCH 03/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/App.tsx b/src/App.tsx
index 8838e74..ba5a8ce 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -29,6 +29,7 @@ import SystemSettings from "./pages/admin/SystemSettings";
 import Trips from "./pages/Trips";
 import TripDetails from "./pages/TripDetails";
 import TripManagement from "./pages/admin/TripManagement";
+import GalleryManagement from "./pages/admin/GalleryManagement";
 import ChangePassword from "./pages/ChangePassword";
 import DiagnosticPage from "./pages/DiagnosticPage";
 
@@ -169,6 +170,11 @@ const App = () => (
                 <TripManagement />
               </ProtectedRoute>
             } />
+            <Route path="/admin/gallery" element={
+              <ProtectedRoute requireAdmin>
+                <GalleryManagement />
+              </ProtectedRoute>
+            } />
             
             {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL "*" ROUTE */}
             <Route path="*" element={<NotFound />} />
-- 
2.47.3


From 03d54d7a5c055094997e32dd785e8582160d361e Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 11:54:16 +0000
Subject: [PATCH 04/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/App.tsx b/src/App.tsx
index ba5a8ce..2b7eb3c 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -161,7 +161,7 @@ const App = () => (
               </ProtectedRoute>
             } />
             <Route path="/admin/settings" element={
-              <ProtectedRoute requireAdmin>
+              <ProtectedRoute requireSuperAdmin>
                 <SystemSettings />
               </ProtectedRoute>
             } />
-- 
2.47.3


From f0bf833ec34780a65145b45f42e2dc4c83aafa2d Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 14:03:33 +0000
Subject: [PATCH 05/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

diff --git a/src/App.tsx b/src/App.tsx
index 2b7eb3c..ae8172f 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -166,10 +166,20 @@ const App = () => (
               </ProtectedRoute>
             } />
             <Route path="/admin/trips" element={
-              <ProtectedRoute requireAdmin>
+              <ProtectedRoute requiredRole="admin">
                 <TripManagement />
               </ProtectedRoute>
             } />
+            <Route path="/admin/attendance" element={
+              <ProtectedRoute requiredRole="admin">
+                <AttendanceManagement />
+              </ProtectedRoute>
+            } />
+            <Route path="/admin/calendar" element={
+              <ProtectedRoute requiredRole="admin">
+                <CalendarManagement />
+              </ProtectedRoute>
+            } />
             <Route path="/admin/gallery" element={
               <ProtectedRoute requireAdmin>
                 <GalleryManagement />
-- 
2.47.3


From a62ddaf75bee2e880fe4b327944978aacd9d0730 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 14:03:58 +0000
Subject: [PATCH 06/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/App.tsx b/src/App.tsx
index ae8172f..3b7e7bf 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -30,6 +30,8 @@ import Trips from "./pages/Trips";
 import TripDetails from "./pages/TripDetails";
 import TripManagement from "./pages/admin/TripManagement";
 import GalleryManagement from "./pages/admin/GalleryManagement";
+import AttendanceManagement from "./pages/admin/AttendanceManagement";
+import CalendarManagement from "./pages/admin/CalendarManagement";
 import ChangePassword from "./pages/ChangePassword";
 import DiagnosticPage from "./pages/DiagnosticPage";
 
-- 
2.47.3


From 1345eae3c85f598c246720f6da5ae91ee8eb3762 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 14:07:29 +0000
Subject: [PATCH 07/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/App.tsx b/src/App.tsx
index 3b7e7bf..e10798a 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -173,12 +173,12 @@ const App = () => (
               </ProtectedRoute>
             } />
             <Route path="/admin/attendance" element={
-              <ProtectedRoute requiredRole="admin">
+              <ProtectedRoute requireAdmin>
                 <AttendanceManagement />
               </ProtectedRoute>
             } />
             <Route path="/admin/calendar" element={
-              <ProtectedRoute requiredRole="admin">
+              <ProtectedRoute requireAdmin>
                 <CalendarManagement />
               </ProtectedRoute>
             } />
-- 
2.47.3


From 20dafcf05ccab6e06fc4df51da22418c20d653bc Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 14:07:40 +0000
Subject: [PATCH 08/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/App.tsx b/src/App.tsx
index e10798a..53fb36e 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -168,7 +168,7 @@ const App = () => (
               </ProtectedRoute>
             } />
             <Route path="/admin/trips" element={
-              <ProtectedRoute requiredRole="admin">
+              <ProtectedRoute requireAdmin>
                 <TripManagement />
               </ProtectedRoute>
             } />
-- 
2.47.3


From 40af62f10924883a652877f02ad29520bb0b5782 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 15:10:50 +0000
Subject: [PATCH 09/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/src/App.tsx b/src/App.tsx
index 53fb36e..d70b4ce 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -6,6 +6,8 @@ import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
 import { BrowserRouter, Routes, Route } from "react-router-dom";
 import { AuthProvider } from "@/contexts/AuthContext";
 import { ProtectedRoute } from "@/components/auth/ProtectedRoute";
+import { LandingProtectedRoute } from "@/components/auth/LandingProtectedRoute";
+import Landing from "./pages/Landing";
 import Dashboard from "./pages/Dashboard";
 import NotFound from "./pages/NotFound";
 import Auth from "./pages/auth/Auth";
@@ -45,6 +47,13 @@ const App = () => (
         <Sonner />
         <BrowserRouter>
           <Routes>
+            {/* Public Landing Page */}
+            <Route path="/" element={
+              <LandingProtectedRoute>
+                <Landing />
+              </LandingProtectedRoute>
+            } />
+            
             {/* Public Routes */}
             <Route path="/auth" element={<Auth />} />
             <Route path="/admin/auth" element={<AdminAuth />} />
-- 
2.47.3


From 3e6a438d8784906dbcdbdbfd1dfd9f9a9580171a Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 15:12:22 +0000
Subject: [PATCH 10/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/App.tsx b/src/App.tsx
index d70b4ce..e2feaab 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -30,6 +30,7 @@ import ReportsAnalytics from "./pages/admin/ReportsAnalytics";
 import SystemSettings from "./pages/admin/SystemSettings";
 import Trips from "./pages/Trips";
 import TripDetails from "./pages/TripDetails";
+import Calendar from "./pages/Calendar";
 import TripManagement from "./pages/admin/TripManagement";
 import GalleryManagement from "./pages/admin/GalleryManagement";
 import AttendanceManagement from "./pages/admin/AttendanceManagement";
@@ -121,6 +122,11 @@ const App = () => (
                 <TripDetails />
               </ProtectedRoute>
             } />
+            <Route path="/calendar" element={
+              <ProtectedRoute>
+                <Calendar />
+              </ProtectedRoute>
+            } />
             <Route path="/admin-setup" element={
               <ProtectedRoute>
                 <AdminSetupPage />
-- 
2.47.3


From f169862e694d0e21b24b3849f5267697bbb2dc0a Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 17:10:11 +0000
Subject: [PATCH 11/14] Auto-commit: Agent tool execution

---
 netlify.toml | 64 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 64 insertions(+)
 create mode 100644 netlify.toml

diff --git a/netlify.toml b/netlify.toml
new file mode 100644
index 0000000..b828ca4
--- /dev/null
+++ b/netlify.toml
@@ -0,0 +1,64 @@
+# Netlify Configuration for Mahaveer Bhavan
+# This file configures build settings and redirects for proper SPA routing
+
+[build]
+  # Build command
+  command = "npm run build"
+
+  # Output directory (Vite default)
+  publish = "dist"
+
+  # Set Node.js version
+  [build.environment]
+    NODE_VERSION = "18"
+
+# Redirect all requests to index.html for client-side routing (SPA)
+[[redirects]]
+  from = "/*"
+  to = "/index.html"
+  status = 200
+  force = false
+
+# Security headers
+[[headers]]
+  for = "/*"
+  [headers.values]
+    X-Frame-Options = "DENY"
+    X-XSS-Protection = "1; mode=block"
+    X-Content-Type-Options = "nosniff"
+    Referrer-Policy = "strict-origin-when-cross-origin"
+    Permissions-Policy = "geolocation=(), microphone=(), camera=()"
+
+# Cache static assets
+[[headers]]
+  for = "/assets/*"
+  [headers.values]
+    Cache-Control = "public, max-age=31536000, immutable"
+
+# Cache fonts
+[[headers]]
+  for = "/fonts/*"
+  [headers.values]
+    Cache-Control = "public, max-age=31536000, immutable"
+
+# Cache images
+[[headers]]
+  for = "/images/*"
+  [headers.values]
+    Cache-Control = "public, max-age=31536000, immutable"
+
+# Development context (for preview deployments)
+[context.deploy-preview]
+  command = "npm run build"
+
+# Production context
+[context.production]
+  command = "npm run build"
+
+# Branch deploy context
+[context.branch-deploy]
+  command = "npm run build"
+
+# Environment variables (these should be set in Netlify UI)
+# VITE_SUPABASE_URL = "your-supabase-url"
+# VITE_SUPABASE_ANON_KEY = "your-supabase-anon-key"
-- 
2.47.3


From 5b833bd9b91466df5b4e62c84465c786930badc6 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 17:10:13 +0000
Subject: [PATCH 12/14] Auto-commit: Agent tool execution

---
 public/_redirects | 10 ++++++++++
 1 file changed, 10 insertions(+)
 create mode 100644 public/_redirects

diff --git a/public/_redirects b/public/_redirects
new file mode 100644
index 0000000..95bc389
--- /dev/null
+++ b/public/_redirects
@@ -0,0 +1,10 @@
+# Netlify Redirects File
+# This ensures all routes work with React Router
+
+# SPA fallback - redirect all requests to index.html
+# This fixes the "Page not found" error on refresh
+/*    /index.html   200
+
+# API proxy (if needed for CORS)
+# Uncomment and configure if you need to proxy API requests
+# /api/*  https://your-api-domain.com/:splat  200
-- 
2.47.3


From 5b17275b21b7cee5abf6d8052da8f7a245fef501 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 17:10:56 +0000
Subject: [PATCH 13/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 5 -----
 1 file changed, 5 deletions(-)

diff --git a/src/App.tsx b/src/App.tsx
index e2feaab..c42ed19 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -67,11 +67,6 @@ const App = () => (
             } />
             
             {/* Protected Member Routes */}
-            <Route path="/" element={
-              <ProtectedRoute>
-                <Dashboard />
-              </ProtectedRoute>
-            } />
             <Route path="/dashboard" element={
               <ProtectedRoute>
                 <Dashboard />
-- 
2.47.3


From b2974a98502f5fd3b49eb5a8c252d0c8febed509 Mon Sep 17 00:00:00 2001
From: Compyle Bot <bot@compyle.dev>
Date: Thu, 23 Oct 2025 17:15:11 +0000
Subject: [PATCH 14/14] Auto-commit: Agent tool execution

---
 src/App.tsx | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

diff --git a/src/App.tsx b/src/App.tsx
index c42ed19..c76e4ed 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -48,12 +48,8 @@ const App = () => (
         <Sonner />
         <BrowserRouter>
           <Routes>
-            {/* Public Landing Page */}
-            <Route path="/" element={
-              <LandingProtectedRoute>
-                <Landing />
-              </LandingProtectedRoute>
-            } />
+            {/* Public Landing Page - Accessible to Everyone */}
+            <Route path="/" element={<Landing />} />
             
             {/* Public Routes */}
             <Route path="/auth" element={<Auth />} />
-- 
2.47.3

